<h1>GASMI MANAL</h1>
<h3>Activité Pratique N°5 :Sécuriser un micro-service avec OAuth2 OIDC avec Keycloak  </h3>
<h2> Liste des clients </h2>
<img src="captures/listecustomers.png">
<h2>Interface de console H2</h2>
<img src="captures/h2consoleinterface.png">
<h2>Creation de projet console cloud google</h2>
<img src="captures/creationprojetconsolecloudgoogle.png">
<h2>Ecran de consentement OAuth</h2>
<img src="captures/ecrande%20consentement%20oauth.png">
<h2>Interface projet console cloud google</h2>
<img src="captures/interfaceprojet%20consolecloudgoogle.png">
<h2>Formulaire de consentement</h2>
<img src="captures/6formulaireconsentement.png">
<h2>Creation de l'identifiant OAuth</h2>
<img src="captures/7creationidentifiant%20oauth.png">
<h2>Information client OAuth </h2>
<img src="captures/8clientoauthcree%20client%20id%20et%20client%20secret.png">
<h2>Login avec compte google</h2>
<img src="captures/9loginwithgoogle1-1.png">
<h2>LogOut</h2>
<img src="captures/10logout.png">
<h2>Partie Github enregistrer une application OAuth</h2>
<img src="captures/img.png">
<h2>Autoriser l'acces avec compte Github</h2>
<img src="captures/img_1.png">
<h2>Partie Keycloak</h2>
<h2> Lancement de keycloak</h2>
<img src="captures/img_kc.png">
<h2>Création d'un client</h2>
<img src="captures/img_2.png">
<img src="captures/img_3.png">
<img src="captures/img_4.png">

<h2>Création de role </h2>
<img src="captures/img_5.png">
<h2>Création de User</h2>
<img src="captures/img_6.png">
<h2>Affecter un mot de passe user1</h2>
<img src="captures/img_7.png">
<h2>Interface login avec les trois options Google Github et keycloak</h2>
<img src="captures/img_8.png>
<h2>Interface Register Keycloak </h2>
<img src="captures/img_9.png">
<h2>Realm settings user registration assign roles</h2>
<img src="captures/img_10.png">

<img src="captures/img_11.png">

<img src="captures/img_12.png">
<h2>Password Policy</h2>
<img src="captures/img_13.png">
<h2>Autoriser les uri</h2>
<img src="captures/img_13.png">
<h2>Web Origins</h2>
<img src="captures/img_14.png">
<h2>Création User</h2>
<img src="captures/img_15.png">
<h2>Affecter un mot de passe permanent</h2>
<img src="captures/img_16.png">
<h2>Création des roles user et admin</h2>
<img src="captures/img_17.png">

<img src="captures/img_18.png">
<h2>Affecter le role au utilisateur</h2>
<img src="captures/img_19.png">
<h2>Endpoints Keycloak</h2>
<img src="captures/img_20.png">
<h2>Envoie une requete http rest client </h2>
<img src="captures/img_21.png">
<h2>Contenu du access_token</h2>
<img src="captures/img_22.png">
<h2>grant_type=refresh_token </h2>
<img src="captures/img_23.png">
<h2>Authentification avec clientsecret</h2>
<img src="captures/img_24.png">

<img src="captures/img_25.png">

<img src="captures/img_26.png">
<h2>Recupération du public key a partir de certifications</h2>
<img src="captures/img_27.png">

<img src="captures/img_28.png">
<h2>Récuperation des produits en fournissant le access token</h2>
<img src="captures/img_29.png">
<h2>Récuperation des informations de l'authentification</h2>
<img src="captures/img_30.png">
<h2>Apres l'instalation de keycloak-angular  </h2>
<img src="captures/img_31.png">
<h2>Erreur 401 pas autorisé </h2>
<img src="captures/img_32.png">
<h2>On desactive Client authentication </h2>
<img src="captures/img_33.png">
<h2>On recupére maintenant les produits</h2>
<img src="captures/img_34.png">

<img src="captures/img_35.png">

<h2>On recupére les informations de l'utilisateur connecté</h2>
<img src="captures/img_36.png">
<h2>Apres ajout de logout disparition des informations sur les produits et utilisateur connecté </h2>
<img src="captures/img_37.png">
<h2>Dans Realm Settings on coche ces options pour register</h2>
<img src="captures/img_38.png">
<h2>Apparition de ces options </h2>
<img src="captures/img_39.png">
<h2>Interface Register</h2>
<img src="captures/img_40.png">
<img src="captures/img_41.png">
<h2>Si l'utilisateur n'est connecté il a un bouton login</h2>
<img src="captures/img_42.png">
<h2>Informations sur les roles de l'utilisateur connecté</h2>
<img src="captures/img_43.png">
<h2>Authentication OTP</h2>
<img src="captures/img_44.png">
<h2>Double authentication</h2>
<img src="captures/img_45.png">
<h2>Partie Docker</h2>
<h2>A partir du Dockerfile on fait le build</h2>
<img src="captures/build.png">
<h2>Génération du jar</h2>
<img src="captures/jargenere.png">

<h2>Docker Compose</h2>
<img src="captures/dockercompose.jpeg">
<h2>Interface PGadmin login</h2>
<img src="captures/pgadminlogin.jpeg">
<h2>Interface initiale pgadmin</h2>
<img src="captures/pgadmin.jpeg">



